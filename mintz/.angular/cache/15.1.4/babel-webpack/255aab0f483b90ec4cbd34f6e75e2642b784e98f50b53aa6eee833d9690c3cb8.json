{"ast":null,"code":"import { Produtos } from '../produtos.model';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/produtos.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"src/app/services/notificacao.service\";\nimport * as i4 from \"src/app/services/carrinho.service\";\nimport * as i5 from \"@angular/forms\";\nimport * as i6 from \"@angular/common\";\nexport class DetalhesProdutoComponent {\n  constructor(produtosService, route, notificacaoService, carrinhoService) {\n    this.produtosService = produtosService;\n    this.route = route;\n    this.notificacaoService = notificacaoService;\n    this.carrinhoService = carrinhoService;\n    // produto: IProduto | undefined;\n    // produto: Produtos | undefined;\n    this.produto = new Produtos();\n    this.quant = 1;\n  }\n  ngOnInit() {\n    let produtoId = this.route.snapshot.paramMap.get(\"id\");\n    if (produtoId != null) {\n      this.produto.id = Number(produtoId);\n      this.consultar();\n    }\n  }\n  adicionarCarrinho() {\n    this.notificacaoService.notificar(\"Produto adicionado ao carrinho\");\n    const produto = {\n      ...this.produto,\n      quantidade: this.quant\n    };\n    this.carrinhoService.adicionarCarrinho(produto);\n  }\n  //P2\n  consultar() {\n    try {\n      this.produtosService.consultar(this.produto.id).subscribe(retorno => {\n        this.produto.descricao = retorno.descricao;\n        this.produto.descricaoPreco = retorno.descricaoPreco;\n        this.produto.imagem = retorno.imagem;\n        this.produto.preco = retorno.preco;\n        this.produto.quantEstoque = retorno.quantEstoque;\n        if (retorno.descricao == null) {\n          console.log(\"Registro não encontrado\");\n          window.location.href = \"./nao-encontrado\";\n        }\n      });\n    } catch (error) {}\n  }\n}\nDetalhesProdutoComponent.ɵfac = function DetalhesProdutoComponent_Factory(t) {\n  return new (t || DetalhesProdutoComponent)(i0.ɵɵdirectiveInject(i1.ProdutosService), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i3.NotificacaoService), i0.ɵɵdirectiveInject(i4.CarrinhoService));\n};\nDetalhesProdutoComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: DetalhesProdutoComponent,\n  selectors: [[\"app-detalhes-produto\"]],\n  decls: 26,\n  vars: 8,\n  consts: [[1, \"w3-container\", \"espacamento-top\"], [\"id\", \"comprar\"], [\"id\", \"img\", 1, \"w3-half\", \"w3-center\"], [\"alt\", \"\", \"srcset\", \"\", 3, \"src\"], [\"id\", \"compra\", 1, \"w3-half\", \"w3-border\", \"w3-round\", \"w3-padding\"], [\"for\", \"quant\"], [\"type\", \"number\", \"id\", \"quant\", \"min\", \"1\", \"max\", \"999\", \"value\", \"1\", 1, \"w3-border\", \"w3-round-large\", \"w3-center\", 3, \"ngModel\", \"ngModelChange\"], [1, \"disponibilidade\", \"espacamento\"], [1, \"w3-button\", \"w3-indigo\", \"w3-round-large\", 3, \"click\"], [\"id\", \"descricao\", 1, \"espacamento\", \"espacamento-top\"]],\n  template: function DetalhesProdutoComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"section\", 0)(1, \"section\", 1)(2, \"div\", 2);\n      i0.ɵɵelement(3, \"img\", 3);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"div\", 4)(5, \"h2\");\n      i0.ɵɵtext(6);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"h3\");\n      i0.ɵɵtext(8);\n      i0.ɵɵpipe(9, \"currency\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(10, \"label\", 5);\n      i0.ɵɵtext(11, \" Quantidade: \");\n      i0.ɵɵelementStart(12, \"input\", 6);\n      i0.ɵɵlistener(\"ngModelChange\", function DetalhesProdutoComponent_Template_input_ngModelChange_12_listener($event) {\n        return ctx.quant = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(13, \"p\", 7);\n      i0.ɵɵtext(14);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"button\", 8);\n      i0.ɵɵlistener(\"click\", function DetalhesProdutoComponent_Template_button_click_15_listener() {\n        return ctx.adicionarCarrinho();\n      });\n      i0.ɵɵtext(16, \"Adicionar ao carrinho\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(17, \"section\", 9)(18, \"h2\");\n      i0.ɵɵtext(19, \"Descri\\u00E7\\u00E3o\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(20, \"p\");\n      i0.ɵɵtext(21, \"Mussum Ipsum, cacilds vidis litro abertis. Delegadis gente finis, bibendum egestas augue arcu ut est.Mais vale um bebadis conhecidiss, que um alcoolatra anonimis.N\\u00E3o sou faixa preta cumpadi, sou preto inteiris, inteiris.Vehicula non. Ut sed ex eros. Vivamus sit amet nibh non tellus tristique interdum.\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(22, \"p\");\n      i0.ɵɵtext(23, \"Suco de cevadiss, \\u00E9 um leite divinis, qui tem lupuliz, matis, aguis e fermentis.N\\u00E3o sou faixa preta cumpadi, sou preto inteiris, inteiris.Aenean aliquam molestie leo, vitae iaculis nisl.Mauris nec dolor in eros commodo tempor. Aenean aliquam molestie leo, vitae iaculis nisl.\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(24, \"p\");\n      i0.ɵɵtext(25, \"Todo mundo v\\u00EA os porris que eu tomo, mas ningu\\u00E9m v\\u00EA os tombis que eu levo!Nec orci ornare consequat. Praesent lacinia ultrices consectetur. Sed non ipsum felis.Quem num gosta di mim que vai ca\\u00E7\\u00E1 sua turmis!Pra l\\u00E1 , depois divoltis porris, paradis.\");\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"src\", ctx.produto.imagem, i0.ɵɵsanitizeUrl);\n      i0.ɵɵadvance(3);\n      i0.ɵɵtextInterpolate(ctx.produto.descricao);\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(9, 5, ctx.produto.preco, \"BRL\"));\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.quant);\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate1(\"\", ctx.produto.quantEstoque, \" unidade(s) em estoque\");\n    }\n  },\n  dependencies: [i5.DefaultValueAccessor, i5.NumberValueAccessor, i5.NgControlStatus, i5.MinValidator, i5.MaxValidator, i5.NgModel, i6.CurrencyPipe],\n  styles: [\"#compra[_ngcontent-%COMP%]{\\r\\n    height: 300px;\\r\\n}\\r\\n.disponibilidade[_ngcontent-%COMP%]{\\r\\n    font-size: x-small;\\r\\n}\\r\\n.espacamento[_ngcontent-%COMP%]{\\r\\n    margin-top: 8px;\\r\\n    margin-bottom: 32px;\\r\\n}\\r\\n.espacamento-top[_ngcontent-%COMP%]{\\r\\n    margin-top: 32px;\\r\\n}\\r\\nimg[_ngcontent-%COMP%]{\\r\\n    height: 300px;\\r\\n}\\r\\n#descricao[_ngcontent-%COMP%]{\\r\\n    margin-top: 350px;\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcHJvZHV0b3MvZGV0YWxoZXMtcHJvZHV0by9kZXRhbGhlcy1wcm9kdXRvLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxhQUFhO0FBQ2pCO0FBQ0E7SUFDSSxrQkFBa0I7QUFDdEI7QUFDQTtJQUNJLGVBQWU7SUFDZixtQkFBbUI7QUFDdkI7QUFDQTtJQUNJLGdCQUFnQjtBQUNwQjtBQUNBO0lBQ0ksYUFBYTtBQUNqQjtBQUNBO0lBQ0ksaUJBQWlCO0FBQ3JCIiwic291cmNlc0NvbnRlbnQiOlsiI2NvbXByYXtcclxuICAgIGhlaWdodDogMzAwcHg7XHJcbn1cclxuLmRpc3BvbmliaWxpZGFkZXtcclxuICAgIGZvbnQtc2l6ZTogeC1zbWFsbDtcclxufVxyXG4uZXNwYWNhbWVudG97XHJcbiAgICBtYXJnaW4tdG9wOiA4cHg7XHJcbiAgICBtYXJnaW4tYm90dG9tOiAzMnB4O1xyXG59XHJcbi5lc3BhY2FtZW50by10b3B7XHJcbiAgICBtYXJnaW4tdG9wOiAzMnB4O1xyXG59XHJcbmltZ3tcclxuICAgIGhlaWdodDogMzAwcHg7XHJcbn1cclxuI2Rlc2NyaWNhb3tcclxuICAgIG1hcmdpbi10b3A6IDM1MHB4O1xyXG59Il0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"AAMA,SAASA,QAAQ,QAAQ,mBAAmB;;;;;;;;AAO5C,OAAM,MAAOC,wBAAwB;EAMnCC,YACUC,eAAgC,EAChCC,KAAqB,EACrBC,kBAAsC,EACtCC,eAAgC;IAHhC,oBAAe,GAAfH,eAAe;IACf,UAAK,GAALC,KAAK;IACL,uBAAkB,GAAlBC,kBAAkB;IAClB,oBAAe,GAAfC,eAAe;IATzB;IACA;IACA,YAAO,GAAa,IAAIN,QAAQ,EAAE;IAClC,UAAK,GAAG,CAAC;EAOP;EAEFO,QAAQ;IACP,IAAIC,SAAS,GAAG,IAAI,CAACJ,KAAK,CAACK,QAAQ,CAACC,QAAQ,CAACC,GAAG,CAAC,IAAI,CAAC;IACtD,IAAIH,SAAS,IAAI,IAAI,EAAE;MACpB,IAAI,CAACI,OAAO,CAACC,EAAE,GAAGC,MAAM,CAACN,SAAS,CAAC;MACnC,IAAI,CAACO,SAAS,EAAE;;EAEpB;EAEAC,iBAAiB;IACf,IAAI,CAACX,kBAAkB,CAACY,SAAS,CAAC,gCAAgC,CAAC;IACnE,MAAML,OAAO,GAAqB;MAChC,GAAG,IAAI,CAACA,OAAQ;MAChBM,UAAU,EAAE,IAAI,CAACC;KAClB;IACD,IAAI,CAACb,eAAe,CAACU,iBAAiB,CAACJ,OAAO,CAAC;EACjD;EAEA;EACAG,SAAS;IACP,IAAI;MACF,IAAI,CAACZ,eAAe,CAACY,SAAS,CAAC,IAAI,CAACH,OAAO,CAACC,EAAE,CAAC,CAACO,SAAS,CACtDC,OAAiB,IAAI;QACpB,IAAI,CAACT,OAAO,CAACU,SAAS,GAAGD,OAAO,CAACC,SAAS;QAC1C,IAAI,CAACV,OAAO,CAACW,cAAc,GAAGF,OAAO,CAACE,cAAc;QACpD,IAAI,CAACX,OAAO,CAACY,MAAM,GAAGH,OAAO,CAACG,MAAM;QACpC,IAAI,CAACZ,OAAO,CAACa,KAAK,GAAGJ,OAAO,CAACI,KAAK;QAClC,IAAI,CAACb,OAAO,CAACc,YAAY,GAAGL,OAAO,CAACK,YAAY;QAChD,IAAIL,OAAO,CAACC,SAAS,IAAI,IAAI,EAAE;UAC7BK,OAAO,CAACC,GAAG,CAAC,yBAAyB,CAAC;UACtCC,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAG,kBAAkB;;MAE7C,CAAC,CACF;KACF,CAAC,OAAOC,KAAK,EAAE;EAGlB;;AAjDW/B,wBAAwB;mBAAxBA,wBAAwB;AAAA;AAAxBA,wBAAwB;QAAxBA,wBAAwB;EAAAgC;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCbrCC,kCAA8C;MAGlCA,yBAA6C;MACjDA,iBAAM;MACNA,8BAA+D;MACvDA,YAAqB;MAAAA,iBAAK;MAC9BA,0BAAI;MAAAA,YAAkC;;MAAAA,iBAAK;MAC3CA,iCAAmB;MACfA,8BACA;MAAAA,iCAA2H;MAApBA;QAAA;MAAA,EAAmB;MAA1HA,iBAA2H;MAE/HA,6BAAuC;MAAAA,aAA8C;MAAAA,iBAAI;MACzFA,kCAAiF;MAA9BA;QAAA,OAASC,uBAAmB;MAAA,EAAC;MAACD,sCAAqB;MAAAA,iBAAS;MAKvHA,mCAA4D;MACpDA,oCAAS;MAAAA,iBAAK;MAClBA,0BAAG;MAAAA,oUAA8S;MAAAA,iBAAI;MACrTA,0BAAG;MAAAA,8SAAmR;MAAAA,iBAAI;MAC1RA,0BAAG;MAAAA,sSAAuP;MAAAA,iBAAI;;;MAnBrPA,eAAsB;MAAtBA,0DAAsB;MAGvBA,eAAqB;MAArBA,2CAAqB;MACrBA,eAAkC;MAAlCA,oEAAkC;MAGqEA,eAAmB;MAAnBA,mCAAmB;MAEvFA,eAA8C;MAA9CA,6EAA8C","names":["Produtos","DetalhesProdutoComponent","constructor","produtosService","route","notificacaoService","carrinhoService","ngOnInit","produtoId","snapshot","paramMap","get","produto","id","Number","consultar","adicionarCarrinho","notificar","quantidade","quant","subscribe","retorno","descricao","descricaoPreco","imagem","preco","quantEstoque","console","log","window","location","href","error","selectors","decls","vars","consts","template","i0","ctx"],"sourceRoot":"","sources":["D:\\OneDrive - Fatec Centro Paula Souza\\Documentos\\Estudos\\Fatec_ADS\\4-Web\\pw-p2\\mintz\\src\\app\\produtos\\detalhes-produto\\detalhes-produto.component.ts","D:\\OneDrive - Fatec Centro Paula Souza\\Documentos\\Estudos\\Fatec_ADS\\4-Web\\pw-p2\\mintz\\src\\app\\produtos\\detalhes-produto\\detalhes-produto.component.html"],"sourcesContent":["import { Component } from '@angular/core';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { CarrinhoService } from 'src/app/services/carrinho.service';\r\nimport { NotificacaoService } from 'src/app/services/notificacao.service';\r\nimport { IProduto, IProdutoCarrinho } from 'src/app/produtos';\r\nimport { ProdutosService } from 'src/app/services/produtos.service';\r\nimport { Produtos } from '../produtos.model';\r\n\r\n@Component({\r\n  selector: 'app-detalhes-produto',\r\n  templateUrl: './detalhes-produto.component.html',\r\n  styleUrls: ['./detalhes-produto.component.css']\r\n})\r\nexport class DetalhesProdutoComponent {\r\n  // produto: IProduto | undefined;\r\n  // produto: Produtos | undefined;\r\n  produto: Produtos = new Produtos();\r\n  quant = 1;\r\n\r\n  constructor(\r\n    private produtosService: ProdutosService,\r\n    private route: ActivatedRoute,\r\n    private notificacaoService: NotificacaoService,\r\n    private carrinhoService: CarrinhoService\r\n  ){}\r\n\r\n  ngOnInit(): void{\r\n   let produtoId = this.route.snapshot.paramMap.get(\"id\");\r\n   if (produtoId != null) {\r\n      this.produto.id = Number(produtoId);\r\n      this.consultar();\r\n   }\r\n  }\r\n\r\n  adicionarCarrinho(){\r\n    this.notificacaoService.notificar(\"Produto adicionado ao carrinho\");\r\n    const produto: IProdutoCarrinho = {\r\n      ...this.produto!,\r\n      quantidade: this.quant\r\n    }\r\n    this.carrinhoService.adicionarCarrinho(produto);\r\n  }\r\n\r\n  //P2\r\n  consultar(){\r\n    try {\r\n      this.produtosService.consultar(this.produto.id).subscribe(\r\n        (retorno: Produtos) =>{\r\n          this.produto.descricao = retorno.descricao;\r\n          this.produto.descricaoPreco = retorno.descricaoPreco;\r\n          this.produto.imagem = retorno.imagem;\r\n          this.produto.preco = retorno.preco;\r\n          this.produto.quantEstoque = retorno.quantEstoque;\r\n          if (retorno.descricao == null) {\r\n            console.log(\"Registro não encontrado\");\r\n            window.location.href = \"./nao-encontrado\"\r\n          }\r\n        }\r\n      )\r\n    } catch (error) {\r\n      \r\n    }\r\n  }\r\n}\r\n","<section class=\"w3-container espacamento-top\">\r\n    <section id=\"comprar\">\r\n        <div id=\"img\" class=\"w3-half w3-center\">\r\n            <img [src]=\"produto.imagem\" alt=\"\" srcset=\"\">\r\n        </div>\r\n        <div id=\"compra\" class=\"w3-half w3-border w3-round w3-padding\">\r\n            <h2>{{produto.descricao}}</h2>\r\n            <h3>{{produto.preco | currency:\"BRL\"}}</h3>\r\n            <label for=\"quant\">\r\n                Quantidade:\r\n                <input type=\"number\" id=\"quant\" min=\"1\" max=\"999\" value=\"1\" class=\"w3-border w3-round-large w3-center\" [(ngModel)]=\"quant\">\r\n            </label>\r\n            <p class=\"disponibilidade espacamento\">{{produto.quantEstoque}} unidade(s) em estoque</p>\r\n            <button class=\"w3-button w3-indigo w3-round-large\" (click)=\"adicionarCarrinho()\">Adicionar ao carrinho</button>\r\n        </div>\r\n    </section>\r\n\r\n    <!-- Descrição do produto -->\r\n    <section id=\"descricao\" class=\"espacamento espacamento-top\">\r\n        <h2>Descrição</h2>\r\n        <p>Mussum Ipsum, cacilds vidis litro abertis. Delegadis gente finis, bibendum egestas augue arcu ut est.Mais vale um bebadis conhecidiss, que um alcoolatra anonimis.Não sou faixa preta cumpadi, sou preto inteiris, inteiris.Vehicula non. Ut sed ex eros. Vivamus sit amet nibh non tellus tristique interdum.</p>\r\n        <p>Suco de cevadiss, é um leite divinis, qui tem lupuliz, matis, aguis e fermentis.Não sou faixa preta cumpadi, sou preto inteiris, inteiris.Aenean aliquam molestie leo, vitae iaculis nisl.Mauris nec dolor in eros commodo tempor. Aenean aliquam molestie leo, vitae iaculis nisl.</p>\r\n        <p>Todo mundo vê os porris que eu tomo, mas ninguém vê os tombis que eu levo!Nec orci ornare consequat. Praesent lacinia ultrices consectetur. Sed non ipsum felis.Quem num gosta di mim que vai caçá sua turmis!Pra lá , depois divoltis porris, paradis.</p>\r\n    </section>\r\n</section>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}