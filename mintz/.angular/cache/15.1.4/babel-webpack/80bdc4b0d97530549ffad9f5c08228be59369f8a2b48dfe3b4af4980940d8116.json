{"ast":null,"code":"import { Cliente } from './cliente.model';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/cliente.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"../services/notificacao.service\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\nfunction ClienteComponent_p_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 29);\n    i0.ɵɵtext(1, \"Senha n\\u00E3o bate com a confirma\\u00E7\\u00E3o de senha\");\n    i0.ɵɵelementEnd();\n  }\n}\nconst _c0 = function (a0) {\n  return {\n    \"senhas-diferentes\": a0\n  };\n};\nexport class ClienteComponent {\n  constructor(clienteService, routes, notificacaoService) {\n    this.clienteService = clienteService;\n    this.routes = routes;\n    this.notificacaoService = notificacaoService;\n    this.msg = \"\";\n    this.cliente = new Cliente();\n    this.senha = \"\";\n    this.confirmarSenha = \"\";\n    this.senhasDiferentes = false;\n  }\n  ngOnInit() {\n    const clienteLogado = localStorage.getItem(\"cliente\");\n    if (clienteLogado != null) {\n      this.cliente = JSON.parse(clienteLogado);\n    }\n  }\n  atualizar() {\n    if (this.senha.length > 0) {\n      if (this.senha == this.confirmarSenha) {\n        this.cliente.senha = this.senha;\n      } else {\n        this.notificacaoService.notificar(\"A senha e a confirmação não batem\");\n        return;\n      }\n    }\n    try {\n      this.clienteService.atualizar(this.cliente);\n      this.msg = \"Dados atualizados com sucesso\";\n      this.notificacaoService.notificar(this.msg);\n    } catch (error) {\n      this.notificarErro();\n    }\n    //Atualiza as informações\n    localStorage.setItem(\"cliente\", JSON.stringify(this.cliente));\n  }\n  consultar() {\n    this.msg = \"\";\n    try {\n      this.clienteService.consultar(this.cliente.id).subscribe(resposta => {\n        this.cliente.bairro = resposta.bairro;\n        this.cliente.cep = resposta.cep;\n        this.cliente.cidade = resposta.cidade;\n        this.cliente.complemento = resposta.complemento;\n        this.cliente.cpf = resposta.cpf;\n        this.cliente.email = resposta.email;\n        this.cliente.logradouro = resposta.logradouro;\n        this.cliente.nome = resposta.nome;\n        this.cliente.senha = resposta.senha;\n        this.cliente.uf = resposta.uf;\n        if (resposta.nome == null) {\n          this.msg = \"Registro não encontrado\";\n          this.notificacaoService.notificar(this.msg);\n        }\n      });\n    } catch (error) {\n      this.notificarErro();\n    }\n  }\n  excluir() {\n    try {\n      this.clienteService.excluir(this.cliente.id);\n      this.msg = \"Conta excluída com sucesso\";\n      this.notificacaoService.notificar(this.msg);\n      localStorage.clear();\n      window.location.href = \"./produtos\";\n    } catch (error) {\n      this.notificarErro();\n    }\n  }\n  notificarErro() {\n    this.msg = \"Ops, parece algo deu errado\";\n    this.notificacaoService.notificar(this.msg);\n  }\n  verificarSenhas() {\n    this.senhasDiferentes = this.senha !== this.confirmarSenha;\n  }\n}\nClienteComponent.ɵfac = function ClienteComponent_Factory(t) {\n  return new (t || ClienteComponent)(i0.ɵɵdirectiveInject(i1.ClienteService), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i3.NotificacaoService));\n};\nClienteComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ClienteComponent,\n  selectors: [[\"app-cliente\"]],\n  decls: 74,\n  vars: 19,\n  consts: [[1, \"w3-container\", \"w3-padding\"], [1, \"w3-container\", \"w3-margin\"], [1, \"w3-half\"], [1, \"w3-text-indigo\"], [1, \"dados\", \"w3-container\"], [1, \"w3-margin\"], [\"type\", \"text\", \"placeholder\", \"Nome\", \"required\", \"\", \"pattern\", \"[A-z\\\\s]{6,100}\", 1, \"w3-input\", \"w3-border\", \"w3-round\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"email\", \"placeholder\", \"Email\", \"required\", \"\", \"pattern\", \"[a-z0-9._%+-]+@[a-z0-9.-]+\\\\.[a-z]{2,}$\", 1, \"w3-input\", \"w3-border\", \"w3-round\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"password\", \"placeholder\", \"Senha\", 1, \"w3-input\", \"w3-border\", \"w3-round\", 3, \"ngModel\", \"ngClass\", \"ngModelChange\", \"input\"], [\"type\", \"password\", \"placeholder\", \"Confirmar senha\", 1, \"w3-input\", \"w3-border\", \"w3-round\", 3, \"ngModel\", \"ngClass\", \"ngModelChange\", \"input\"], [\"class\", \"w3-margin\", \"style\", \"color: red;\", 4, \"ngIf\"], [\"type\", \"number\", \"placeholder\", \"CPF\", \"disabled\", \"true\", \"pattern\", \"\\\\d{3}\\\\.\\\\d{3}\\\\.\\\\d{3}-\\\\d{2}\", 1, \"w3-input\", \"w3-border\", \"w3-round\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"placeholder\", \"Logradouro\", 1, \"w3-input\", \"w3-border\", \"w3-round\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"placeholder\", \"Complemento\", 1, \"w3-input\", \"w3-border\", \"w3-round\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"placeholder\", \"Bairro\", 1, \"w3-input\", \"w3-border\", \"w3-round\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"placeholder\", \"Cidade\", 1, \"w3-input\", \"w3-border\", \"w3-round\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"placeholder\", \"UF\", 1, \"w3-input\", \"w3-border\", \"w3-round\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"placeholder\", \"CEP\", 1, \"w3-input\", \"w3-border\", \"w3-round\", 3, \"ngModel\", \"ngModelChange\"], [1, \"w3-padding\", \"w3-center\"], [1, \"w3-button\", \"w3-indigo\", \"w3-round\", \"w3-hover-orange\", \"w3-margin\", 3, \"click\"], [1, \"w3-button\", \"w3-round\", \"w3-red\", \"w3-hover-orange\", \"w3-margin\", 3, \"click\"], [\"id\", \"divModalExcluir\", 1, \"w3-modal\"], [1, \"w3-modal-content\", \"w3-card-4\", \"w3-animate-top\", \"w3-round\"], [1, \"w3-indigo\", \"w3-container\", \"modal-header\"], [\"onclick\", \"document.getElementById('divModalExcluir').style.display='none'\", 1, \"w3-button\", \"w3-display-topright\"], [1, \"w3-container\", \"w3-padding\", \"cadastro\"], [\"type\", \"email\", \"placeholder\", \"Email\", \"required\", \"\", \"pattern\", \"[a-z0-9._%+-]+@[a-z0-9.-]+\\\\.[a-z]{2,}$\", 1, \"w3-input\", \"w3-border\", \"w3-round\", \"w3-margin\", 3, \"ngModel\", \"ngModelChange\"], [1, \"w3-padding\"], [1, \"w3-button\", \"w3-indigo\", \"w3-round\", \"w3-hover-orange\", 3, \"click\"], [1, \"w3-margin\", 2, \"color\", \"red\"]],\n  template: function ClienteComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"h3\", 3);\n      i0.ɵɵtext(4, \"Meus dados\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"div\", 4)(6, \"div\", 5)(7, \"label\", 3);\n      i0.ɵɵtext(8, \"Nome\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"input\", 6);\n      i0.ɵɵlistener(\"ngModelChange\", function ClienteComponent_Template_input_ngModelChange_9_listener($event) {\n        return ctx.cliente.nome = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(10, \"div\", 5)(11, \"label\", 3);\n      i0.ɵɵtext(12, \"Email\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"input\", 7);\n      i0.ɵɵlistener(\"ngModelChange\", function ClienteComponent_Template_input_ngModelChange_13_listener($event) {\n        return ctx.cliente.email = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(14, \"div\", 5)(15, \"label\", 3);\n      i0.ɵɵtext(16, \"Senha\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(17, \"input\", 8);\n      i0.ɵɵlistener(\"ngModelChange\", function ClienteComponent_Template_input_ngModelChange_17_listener($event) {\n        return ctx.senha = $event;\n      })(\"input\", function ClienteComponent_Template_input_input_17_listener() {\n        return ctx.verificarSenhas();\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(18, \"div\", 5)(19, \"label\", 3);\n      i0.ɵɵtext(20, \"Confirmar senha\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(21, \"input\", 9);\n      i0.ɵɵlistener(\"ngModelChange\", function ClienteComponent_Template_input_ngModelChange_21_listener($event) {\n        return ctx.confirmarSenha = $event;\n      })(\"input\", function ClienteComponent_Template_input_input_21_listener() {\n        return ctx.verificarSenhas();\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(22, ClienteComponent_p_22_Template, 2, 0, \"p\", 10);\n      i0.ɵɵelementStart(23, \"div\", 5)(24, \"label\", 3);\n      i0.ɵɵtext(25, \"CPF\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(26, \"input\", 11);\n      i0.ɵɵlistener(\"ngModelChange\", function ClienteComponent_Template_input_ngModelChange_26_listener($event) {\n        return ctx.cliente.cpf = $event;\n      });\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementStart(27, \"div\", 2)(28, \"h3\", 3);\n      i0.ɵɵtext(29, \"Meu endere\\u00E7o\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(30, \"div\", 4)(31, \"div\", 5)(32, \"label\", 3);\n      i0.ɵɵtext(33, \"Logradouro\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(34, \"input\", 12);\n      i0.ɵɵlistener(\"ngModelChange\", function ClienteComponent_Template_input_ngModelChange_34_listener($event) {\n        return ctx.cliente.logradouro = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(35, \"div\", 5)(36, \"label\", 3);\n      i0.ɵɵtext(37, \"Complemento\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(38, \"input\", 13);\n      i0.ɵɵlistener(\"ngModelChange\", function ClienteComponent_Template_input_ngModelChange_38_listener($event) {\n        return ctx.cliente.complemento = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(39, \"div\", 5)(40, \"label\", 3);\n      i0.ɵɵtext(41, \"Bairro\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(42, \"input\", 14);\n      i0.ɵɵlistener(\"ngModelChange\", function ClienteComponent_Template_input_ngModelChange_42_listener($event) {\n        return ctx.cliente.bairro = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(43, \"div\", 5)(44, \"label\", 3);\n      i0.ɵɵtext(45, \"Cidade\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(46, \"input\", 15);\n      i0.ɵɵlistener(\"ngModelChange\", function ClienteComponent_Template_input_ngModelChange_46_listener($event) {\n        return ctx.cliente.cidade = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(47, \"div\", 5)(48, \"label\", 3);\n      i0.ɵɵtext(49, \"UF\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(50, \"input\", 16);\n      i0.ɵɵlistener(\"ngModelChange\", function ClienteComponent_Template_input_ngModelChange_50_listener($event) {\n        return ctx.cliente.uf = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(51, \"div\", 5)(52, \"label\", 3);\n      i0.ɵɵtext(53, \"CEP\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(54, \"input\", 17);\n      i0.ɵɵlistener(\"ngModelChange\", function ClienteComponent_Template_input_ngModelChange_54_listener($event) {\n        return ctx.cliente.cep = $event;\n      });\n      i0.ɵɵelementEnd()()()()();\n      i0.ɵɵelementStart(55, \"div\", 18)(56, \"button\", 19);\n      i0.ɵɵlistener(\"click\", function ClienteComponent_Template_button_click_56_listener() {\n        return ctx.atualizar();\n      });\n      i0.ɵɵtext(57, \"Atualizar\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(58, \"button\", 20);\n      i0.ɵɵlistener(\"click\", function ClienteComponent_Template_button_click_58_listener() {\n        return ctx.excluir();\n      });\n      i0.ɵɵtext(59, \"Excluir conta\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(60, \"div\", 21)(61, \"div\", 22)(62, \"header\", 23)(63, \"span\", 24);\n      i0.ɵɵtext(64, \"\\u00D7\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(65, \"h3\");\n      i0.ɵɵtext(66, \"Excluir conta\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(67, \"div\", 25)(68, \"p\");\n      i0.ɵɵtext(69, \"Estamos tristes porque quer nos deixar...\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(70, \"input\", 26);\n      i0.ɵɵlistener(\"ngModelChange\", function ClienteComponent_Template_input_ngModelChange_70_listener($event) {\n        return ctx.clienteRecuperacao.email = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(71, \"div\", 27)(72, \"button\", 28);\n      i0.ɵɵlistener(\"click\", function ClienteComponent_Template_button_click_72_listener() {\n        return ctx.recuperarSenha();\n      });\n      i0.ɵɵtext(73, \"Recuperar senha\");\n      i0.ɵɵelementEnd()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(9);\n      i0.ɵɵproperty(\"ngModel\", ctx.cliente.nome);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.cliente.email);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.senha)(\"ngClass\", i0.ɵɵpureFunction1(15, _c0, ctx.senhasDiferentes));\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.confirmarSenha)(\"ngClass\", i0.ɵɵpureFunction1(17, _c0, ctx.senhasDiferentes));\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.senhasDiferentes);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.cliente.cpf);\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"ngModel\", ctx.cliente.logradouro);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.cliente.complemento);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.cliente.bairro);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.cliente.cidade);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.cliente.uf);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.cliente.cep);\n      i0.ɵɵadvance(16);\n      i0.ɵɵproperty(\"ngModel\", ctx.clienteRecuperacao.email);\n    }\n  },\n  dependencies: [i4.NgClass, i4.NgIf, i5.DefaultValueAccessor, i5.NumberValueAccessor, i5.NgControlStatus, i5.RequiredValidator, i5.PatternValidator, i5.NgModel],\n  styles: [\".dados[_ngcontent-%COMP%]{\\r\\n    padding-right: 3rem!important;\\r\\n    width: 750px;\\r\\n}\\r\\n\\r\\n.modal-header[_ngcontent-%COMP%]{\\r\\n    padding-top: 10px;\\r\\n}\\r\\n\\r\\n.senhas-diferentes[_ngcontent-%COMP%]{\\r\\n    border: 1px solid red!important;\\r\\n    color: red!important;\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY2xpZW50ZS9jbGllbnRlLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSw2QkFBNkI7SUFDN0IsWUFBWTtBQUNoQjs7QUFFQTtJQUNJLGlCQUFpQjtBQUNyQjs7QUFFQTtJQUNJLCtCQUErQjtJQUMvQixvQkFBb0I7QUFDeEIiLCJzb3VyY2VzQ29udGVudCI6WyIuZGFkb3N7XHJcbiAgICBwYWRkaW5nLXJpZ2h0OiAzcmVtIWltcG9ydGFudDtcclxuICAgIHdpZHRoOiA3NTBweDtcclxufVxyXG5cclxuLm1vZGFsLWhlYWRlcntcclxuICAgIHBhZGRpbmctdG9wOiAxMHB4O1xyXG59XHJcblxyXG4uc2VuaGFzLWRpZmVyZW50ZXN7XHJcbiAgICBib3JkZXI6IDFweCBzb2xpZCByZWQhaW1wb3J0YW50O1xyXG4gICAgY29sb3I6IHJlZCFpbXBvcnRhbnQ7XHJcbn0iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"mappings":"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","names":["Cliente","i0","ClienteComponent","constructor","clienteService","routes","notificacaoService","ngOnInit","clienteLogado","localStorage","getItem","cliente","JSON","parse","atualizar","senha","length","confirmarSenha","notificar","msg","error","notificarErro","setItem","stringify","consultar","id","subscribe","resposta","bairro","cep","cidade","complemento","cpf","email","logradouro","nome","uf","excluir","clear","window","location","href","verificarSenhas","senhasDiferentes","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["D:\\OneDrive - Fatec Centro Paula Souza\\Documentos\\Estudos\\Fatec_ADS\\4-Web\\pw-p2\\mintz\\src\\app\\cliente\\cliente.component.ts","D:\\OneDrive - Fatec Centro Paula Souza\\Documentos\\Estudos\\Fatec_ADS\\4-Web\\pw-p2\\mintz\\src\\app\\cliente\\cliente.component.html"],"sourcesContent":["import { Component } from '@angular/core';\r\nimport { Cliente } from './cliente.model';\r\nimport { ClienteService } from '../services/cliente.service';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { NotificacaoService } from '../services/notificacao.service';\r\n\r\n@Component({\r\n  selector: 'app-cliente',\r\n  templateUrl: './cliente.component.html',\r\n  styleUrls: ['./cliente.component.css']\r\n})\r\nexport class ClienteComponent {\r\n  msg: string = \"\";\r\n  cliente: Cliente = new Cliente();\r\n  senha: string = \"\";\r\n  confirmarSenha: string = \"\";\r\n  senhasDiferentes: boolean = false;\r\n\r\n  constructor(\r\n    private clienteService: ClienteService,\r\n    private routes: ActivatedRoute,\r\n    private notificacaoService: NotificacaoService\r\n  ){}\r\n    \r\n\r\n  ngOnInit(){\r\n    const clienteLogado = localStorage.getItem(\"cliente\");\r\n    if (clienteLogado != null) {\r\n      this.cliente = JSON.parse(clienteLogado);\r\n    }\r\n  }\r\n\r\n  atualizar(): void{\r\n    if (this.senha.length > 0) {\r\n      if (this.senha == this.confirmarSenha) {\r\n        this.cliente.senha = this.senha;\r\n      } else {\r\n        this.notificacaoService.notificar(\"A senha e a confirmação não batem\");\r\n        return;\r\n      }\r\n    }\r\n    try {\r\n        this.clienteService.atualizar(this.cliente);\r\n        this.msg = \"Dados atualizados com sucesso\";\r\n        this.notificacaoService.notificar(this.msg);\r\n    } catch (error) {\r\n      this.notificarErro();\r\n    }\r\n    //Atualiza as informações\r\n    localStorage.setItem(\"cliente\", JSON.stringify(this.cliente));\r\n  }\r\n\r\n  consultar(){\r\n    this.msg = \"\";\r\n    try {\r\n      this.clienteService.consultar(this.cliente.id).subscribe(\r\n        (resposta: Cliente) => {\r\n          this.cliente.bairro = resposta.bairro;\r\n          this.cliente.cep = resposta.cep;\r\n          this.cliente.cidade = resposta.cidade;\r\n          this.cliente.complemento = resposta.complemento;\r\n          this.cliente.cpf = resposta.cpf;\r\n          this.cliente.email = resposta.email;\r\n          this.cliente.logradouro = resposta.logradouro;\r\n          this.cliente.nome = resposta.nome;\r\n          this.cliente.senha = resposta.senha;\r\n          this.cliente.uf = resposta.uf;\r\n\r\n          if (resposta.nome == null) {\r\n            this.msg = \"Registro não encontrado\";\r\n            this.notificacaoService.notificar(this.msg);\r\n          }\r\n        }\r\n      );\r\n    } catch (error) {\r\n      this.notificarErro();\r\n    }\r\n  }\r\n\r\n  excluir(): void{\r\n    try {\r\n      this.clienteService.excluir(this.cliente.id);\r\n      this.msg = \"Conta excluída com sucesso\";\r\n      this.notificacaoService.notificar(this.msg);\r\n      localStorage.clear();\r\n      window.location.href = \"./produtos\";\r\n    } catch (error) {\r\n      this.notificarErro();\r\n    }\r\n  }\r\n\r\n  notificarErro(){\r\n    this.msg = \"Ops, parece algo deu errado\";\r\n    this.notificacaoService.notificar(this.msg);\r\n  }\r\n\r\n  verificarSenhas(): void{\r\n    this.senhasDiferentes = this.senha !== this.confirmarSenha;\r\n  }\r\n}\r\n","<div class=\"w3-container w3-padding\">\r\n    <!-- Formulário -->\r\n    <div class=\"w3-container w3-margin\">\r\n        <!-- Dados -->\r\n        <div class=\"w3-half\">\r\n            <h3 class=\"w3-text-indigo\">Meus dados</h3>\r\n            <div class=\"dados w3-container\">\r\n                <div class=\"w3-margin\">\r\n                    <label class=\"w3-text-indigo\">Nome</label>\r\n                    <input type=\"text\" class=\"w3-input w3-border w3-round\" placeholder=\"Nome\" required pattern=\"[A-z\\s]{6,100}\" [(ngModel)]=\"cliente.nome\">\r\n                </div>\r\n\r\n                <div class=\"w3-margin\">\r\n                    <label class=\"w3-text-indigo\">Email</label>\r\n                    <input type=\"email\" class=\"w3-input w3-border w3-round\" placeholder=\"Email\" required pattern=\"[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,}$\" [(ngModel)]=\"cliente.email\">\r\n\r\n                </div>\r\n\r\n                <div class=\"w3-margin\">\r\n                    <label class=\"w3-text-indigo\">Senha</label>\r\n                    <input type=\"password\" class=\"w3-input w3-border w3-round\" placeholder=\"Senha\" [(ngModel)]=\"senha\" (input)=\"verificarSenhas()\" [ngClass]=\"{'senhas-diferentes': senhasDiferentes}\">\r\n                </div>\r\n\r\n                <div class=\"w3-margin\">\r\n                    <label class=\"w3-text-indigo\">Confirmar senha</label>\r\n                    <input type=\"password\" class=\"w3-input w3-border w3-round\" placeholder=\"Confirmar senha\" [(ngModel)]=\"confirmarSenha\" (input)=\"verificarSenhas()\" [ngClass]=\"{'senhas-diferentes': senhasDiferentes}\">\r\n                </div>\r\n\r\n                <p class=\"w3-margin\" style=\"color: red;\" *ngIf=\"senhasDiferentes\">Senha não bate com a confirmação de senha</p>\r\n\r\n                <div class=\"w3-margin\">\r\n                    <label class=\"w3-text-indigo\">CPF</label>\r\n                    <input type=\"number\" class=\"w3-input w3-border w3-round\" placeholder=\"CPF\" disabled=\"true\" pattern=\"\\d{3}\\.\\d{3}\\.\\d{3}-\\d{2}\" [(ngModel)]=\"cliente.cpf\">\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <!-- Endereço -->\r\n        <div class=\"w3-half\">\r\n            <h3 class=\"w3-text-indigo\">Meu endereço</h3>\r\n            <div class=\"dados w3-container\">\r\n                <div class=\"w3-margin\">\r\n                    <label class=\"w3-text-indigo\">Logradouro</label>\r\n                    <input type=\"text\" class=\"w3-input w3-border w3-round\" placeholder=\"Logradouro\" [(ngModel)]=\"cliente.logradouro\">\r\n                </div>\r\n\r\n                <div class=\"w3-margin\">\r\n                    <label class=\"w3-text-indigo\">Complemento</label>\r\n                    <input type=\"text\" class=\"w3-input w3-border w3-round\" placeholder=\"Complemento\" [(ngModel)]=\"cliente.complemento\">\r\n                </div>\r\n\r\n                <div class=\"w3-margin\">\r\n                    <label class=\"w3-text-indigo\">Bairro</label>\r\n                    <input type=\"text\" class=\"w3-input w3-border w3-round\" placeholder=\"Bairro\" [(ngModel)]=\"cliente.bairro\">\r\n                </div>\r\n\r\n                <div class=\"w3-margin\">\r\n                    <label class=\"w3-text-indigo\">Cidade</label>\r\n                    <input type=\"text\" class=\"w3-input w3-border w3-round\" placeholder=\"Cidade\" [(ngModel)]=\"cliente.cidade\">\r\n                </div>\r\n\r\n                <div class=\"w3-margin\">\r\n                    <label class=\"w3-text-indigo\">UF</label>\r\n                    <input type=\"text\" class=\"w3-input w3-border w3-round\" placeholder=\"UF\" [(ngModel)]=\"cliente.uf\">\r\n                </div>\r\n\r\n                <div class=\"w3-margin\">\r\n                    <label class=\"w3-text-indigo\">CEP</label>\r\n                    <input type=\"text\" class=\"w3-input w3-border w3-round\" placeholder=\"CEP\" [(ngModel)]=\"cliente.cep\">\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n    \r\n    <!-- Botões -->\r\n    <div class=\"w3-padding w3-center\">\r\n        <button class=\"w3-button w3-indigo w3-round w3-hover-orange w3-margin\" (click)=\"atualizar()\">Atualizar</button>\r\n        <button class=\"w3-button w3-round w3-red w3-hover-orange w3-margin\" (click)=\"excluir()\">Excluir conta</button>\r\n    </div>\r\n</div>\r\n\r\n<!-- Modal Confirmar Exclusão -->\r\n<div class=\"w3-modal\" id=\"divModalExcluir\">\r\n    <div class=\"w3-modal-content w3-card-4 w3-animate-top w3-round\">\r\n        <header class=\"w3-indigo w3-container modal-header\">\r\n            <span onclick=\"document.getElementById('divModalExcluir').style.display='none'\" class=\"w3-button w3-display-topright\">&times;</span>\r\n            <h3>Excluir conta</h3>\r\n        </header>\r\n        <div class=\"w3-container w3-padding cadastro\">\r\n            <p>Estamos tristes porque quer nos deixar...</p>\r\n            <input type=\"email\" class=\"w3-input w3-border w3-round w3-margin\" placeholder=\"Email\" required pattern=\"[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,}$\" [(ngModel)]=\"clienteRecuperacao.email\">\r\n            <div class=\"w3-padding\">\r\n                <button class=\"w3-button w3-indigo w3-round w3-hover-orange\" (click)=\"recuperarSenha()\">Recuperar senha</button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}