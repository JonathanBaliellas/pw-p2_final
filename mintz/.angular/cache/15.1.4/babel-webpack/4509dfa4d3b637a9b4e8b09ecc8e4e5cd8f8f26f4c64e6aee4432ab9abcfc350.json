{"ast":null,"code":"import { Produtos } from './produtos.model';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../produtos.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nfunction ProdutosComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 2)(1, \"a\", 3);\n    i0.ɵɵelement(2, \"img\", 4);\n    i0.ɵɵelementStart(3, \"h2\", 5);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"p\", 6);\n    i0.ɵɵtext(6);\n    i0.ɵɵpipe(7, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"p\", 7);\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"button\", 8);\n    i0.ɵɵtext(11, \"Comprar\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const produto_r1 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate1(\"routerLink\", \"/produtos/\", produto_r1.id, \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"src\", produto_r1.imagem, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(produto_r1.descricao);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(7, 5, produto_r1.preco, \"BRL\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(produto_r1.descricaoPreco);\n  }\n}\nexport class ProdutosComponent {\n  constructor(produtosService, route) {\n    this.produtosService = produtosService;\n    this.route = route;\n    // produtos: Produtos[] | undefined;\n    this.msg = \"\";\n    this.produto = new Produtos();\n    this.lista = [];\n  }\n  ngOnInit() {\n    /*//VERSÃO P1\r\n    const produtos = this.produtosService.getAll();\r\n    //Sempre que notar uma mudança no query parameter, receberá a descrição digitada na barra de busca\r\n    this.route.queryParamMap.subscribe(params => {\r\n      //Pega a descrição digitada e converte para letras minúsculas\r\n      const descricao = params.get(\"descricao\")?.toLowerCase();\r\n            //Verifica se o produto digitado está presente na lista de produtos\r\n      if(descricao){\r\n        this.produtos = produtos.filter(produto => produto.descricao.toLowerCase().includes(descricao));\r\n        return;\r\n      }\r\n            //Se não estiver no filtro, o atributo produtos recebe toda a lista de produtos\r\n      this.produtos = produtos;\r\n    });\r\n    */\n    //VERSÃO P2\n    /*\r\n    this.route.queryParams.pipe(\r\n      // switchMap troca para um novo observable\r\n      switchMap(() => this.produtosService.listar()),\r\n      map((produtos: Produtos[]) => {\r\n        // Pega a descrição digitada e converte para letras minúsculas\r\n        const descricao = this.route.snapshot.queryParams[\"descricao\"]?.toLowerCase();\r\n                // Verifica se o produto digitado está presente na lista de produtos\r\n        if (descricao) {\r\n          return produtos.filter(produto => produto.descricao.toLowerCase().includes(descricao));\r\n        }\r\n                // Se não estiver no filtro, retorna toda a lista de produtos\r\n        return produtos;\r\n      })\r\n    ).subscribe(produtos => {\r\n      // O resultado final é atribuído a this.produtos\r\n      this.produtos = produtos;\r\n    });\r\n    */\n    let id = this.route.snapshot.paramMap.get(\"id\");\n    if (id != null) {\n      this.produto.id = Number(id);\n      //consultar();\n    }\n\n    consultar();\n  }\n}\nProdutosComponent.ɵfac = function ProdutosComponent_Factory(t) {\n  return new (t || ProdutosComponent)(i0.ɵɵdirectiveInject(i1.ProdutosService), i0.ɵɵdirectiveInject(i2.ActivatedRoute));\n};\nProdutosComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ProdutosComponent,\n  selectors: [[\"app-produtos\"]],\n  decls: 2,\n  vars: 1,\n  consts: [[1, \"product-list\"], [\"class\", \"product-list__card\", 4, \"ngFor\", \"ngForOf\"], [1, \"product-list__card\"], [1, \"product-list__link\", 3, \"routerLink\"], [3, \"src\"], [1, \"product-item__name\", \"w3-text-indigo\"], [1, \"product-item__price\", \"w3-text-orange\"], [1, \"product-item__price-description\", \"w3-text-gray\"], [1, \"w3-button\", \"w3-round-large\", \"w3-indigo\", \"w3-hover-orange\", \"w3-margin\"]],\n  template: function ProdutosComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"section\", 0);\n      i0.ɵɵtemplate(1, ProdutosComponent_div_1_Template, 12, 8, \"div\", 1);\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngForOf\", ctx.produtos);\n    }\n  },\n  dependencies: [i3.NgForOf, i2.RouterLink, i3.CurrencyPipe],\n  styles: [\".product-list[_ngcontent-%COMP%] {\\r\\n    padding: 40px 0;\\r\\n    width: -moz-fit-content;\\r\\n    width: fit-content;\\r\\n    display: flex;\\r\\n    gap: 20px;\\r\\n    flex-flow: row wrap;  \\r\\n    justify-content: space-evenly;\\r\\n    align-content: center;  \\r\\n}\\r\\n\\r\\n.product-list__card[_ngcontent-%COMP%] {\\r\\n    box-sizing: border-box;\\r\\n    padding: 10px;\\r\\n    border-radius: 4px;\\r\\n    flex: 0 1 270px;\\r\\n    height: 500px;\\r\\n    background-color: white;\\r\\n    box-shadow: rgba(99, 99, 99, 0.2) 0px 2px 8px 0px;       \\r\\n}\\r\\n\\r\\n.product-list__card[_ngcontent-%COMP%]:hover {\\r\\n    outline: 1px solid var(--blue);\\r\\n    transform: scale(1.1, 1.1);\\r\\n    cursor: pointer;\\r\\n}\\r\\n\\r\\n.product-list__link[_ngcontent-%COMP%] {\\r\\n    display: flex;\\r\\n    flex-direction: column;    \\r\\n    align-items: center;\\r\\n    row-gap: 5px; \\r\\n    text-decoration: none;\\r\\n}\\r\\n\\r\\n.product-list__card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\\r\\n    height: 250px;\\r\\n    width: 250px;    \\r\\n    display: block;\\r\\n    border-radius: 4px;\\r\\n}\\r\\n\\r\\n.product-item__name[_ngcontent-%COMP%] {\\r\\n    font-size: 24px!important;\\r\\n    margin: 0px;\\r\\n}\\r\\n\\r\\n.product-item__price[_ngcontent-%COMP%] {\\r\\n    font-size: 32px;\\r\\n    font-weight: bold;\\r\\n    margin: 0px;\\r\\n}\\r\\n\\r\\n.product-item__price-description[_ngcontent-%COMP%] {\\r\\n    font-size: 12px;\\r\\n    font-weight: bold;\\r\\n    margin: 0px;\\r\\n}\\r\\n\\r\\n.product-item__buy-button[_ngcontent-%COMP%] {\\r\\n    border: none;\\r\\n    color: white;\\r\\n    font-size: 20px;\\r\\n    padding: 6px 12px;\\r\\n    margin: 0px;\\r\\n}\\r\\n\\r\\n.product-item__buy-button[_ngcontent-%COMP%]:hover {\\r\\n    filter: brightness(1.1);\\r\\n    cursor: pointer;\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcHJvZHV0b3MvcHJvZHV0b3MuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLGVBQWU7SUFDZix1QkFBa0I7SUFBbEIsa0JBQWtCO0lBQ2xCLGFBQWE7SUFDYixTQUFTO0lBQ1QsbUJBQW1CO0lBQ25CLDZCQUE2QjtJQUM3QixxQkFBcUI7QUFDekI7O0FBRUE7SUFDSSxzQkFBc0I7SUFDdEIsYUFBYTtJQUNiLGtCQUFrQjtJQUNsQixlQUFlO0lBQ2YsYUFBYTtJQUNiLHVCQUF1QjtJQUN2QixpREFBaUQ7QUFDckQ7O0FBRUE7SUFDSSw4QkFBOEI7SUFDOUIsMEJBQTBCO0lBQzFCLGVBQWU7QUFDbkI7O0FBRUE7SUFDSSxhQUFhO0lBQ2Isc0JBQXNCO0lBQ3RCLG1CQUFtQjtJQUNuQixZQUFZO0lBQ1oscUJBQXFCO0FBQ3pCOztBQUVBO0lBQ0ksYUFBYTtJQUNiLFlBQVk7SUFDWixjQUFjO0lBQ2Qsa0JBQWtCO0FBQ3RCOztBQUVBO0lBQ0kseUJBQXlCO0lBQ3pCLFdBQVc7QUFDZjs7QUFFQTtJQUNJLGVBQWU7SUFDZixpQkFBaUI7SUFDakIsV0FBVztBQUNmOztBQUVBO0lBQ0ksZUFBZTtJQUNmLGlCQUFpQjtJQUNqQixXQUFXO0FBQ2Y7O0FBRUE7SUFDSSxZQUFZO0lBQ1osWUFBWTtJQUNaLGVBQWU7SUFDZixpQkFBaUI7SUFDakIsV0FBVztBQUNmOztBQUVBO0lBQ0ksdUJBQXVCO0lBQ3ZCLGVBQWU7QUFDbkIiLCJzb3VyY2VzQ29udGVudCI6WyIucHJvZHVjdC1saXN0IHtcclxuICAgIHBhZGRpbmc6IDQwcHggMDtcclxuICAgIHdpZHRoOiBmaXQtY29udGVudDtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBnYXA6IDIwcHg7XHJcbiAgICBmbGV4LWZsb3c6IHJvdyB3cmFwOyAgXHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWV2ZW5seTtcclxuICAgIGFsaWduLWNvbnRlbnQ6IGNlbnRlcjsgIFxyXG59XHJcblxyXG4ucHJvZHVjdC1saXN0X19jYXJkIHtcclxuICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XHJcbiAgICBwYWRkaW5nOiAxMHB4O1xyXG4gICAgYm9yZGVyLXJhZGl1czogNHB4O1xyXG4gICAgZmxleDogMCAxIDI3MHB4O1xyXG4gICAgaGVpZ2h0OiA1MDBweDtcclxuICAgIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xyXG4gICAgYm94LXNoYWRvdzogcmdiYSg5OSwgOTksIDk5LCAwLjIpIDBweCAycHggOHB4IDBweDsgICAgICAgXHJcbn1cclxuXHJcbi5wcm9kdWN0LWxpc3RfX2NhcmQ6aG92ZXIge1xyXG4gICAgb3V0bGluZTogMXB4IHNvbGlkIHZhcigtLWJsdWUpO1xyXG4gICAgdHJhbnNmb3JtOiBzY2FsZSgxLjEsIDEuMSk7XHJcbiAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbn1cclxuXHJcbi5wcm9kdWN0LWxpc3RfX2xpbmsge1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47ICAgIFxyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgIHJvdy1nYXA6IDVweDsgXHJcbiAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XHJcbn1cclxuXHJcbi5wcm9kdWN0LWxpc3RfX2NhcmQgaW1nIHtcclxuICAgIGhlaWdodDogMjUwcHg7XHJcbiAgICB3aWR0aDogMjUwcHg7ICAgIFxyXG4gICAgZGlzcGxheTogYmxvY2s7XHJcbiAgICBib3JkZXItcmFkaXVzOiA0cHg7XHJcbn1cclxuXHJcbi5wcm9kdWN0LWl0ZW1fX25hbWUge1xyXG4gICAgZm9udC1zaXplOiAyNHB4IWltcG9ydGFudDtcclxuICAgIG1hcmdpbjogMHB4O1xyXG59XHJcblxyXG4ucHJvZHVjdC1pdGVtX19wcmljZSB7XHJcbiAgICBmb250LXNpemU6IDMycHg7XHJcbiAgICBmb250LXdlaWdodDogYm9sZDtcclxuICAgIG1hcmdpbjogMHB4O1xyXG59XHJcblxyXG4ucHJvZHVjdC1pdGVtX19wcmljZS1kZXNjcmlwdGlvbiB7XHJcbiAgICBmb250LXNpemU6IDEycHg7XHJcbiAgICBmb250LXdlaWdodDogYm9sZDtcclxuICAgIG1hcmdpbjogMHB4O1xyXG59XHJcblxyXG4ucHJvZHVjdC1pdGVtX19idXktYnV0dG9uIHtcclxuICAgIGJvcmRlcjogbm9uZTtcclxuICAgIGNvbG9yOiB3aGl0ZTtcclxuICAgIGZvbnQtc2l6ZTogMjBweDtcclxuICAgIHBhZGRpbmc6IDZweCAxMnB4O1xyXG4gICAgbWFyZ2luOiAwcHg7XHJcbn1cclxuXHJcbi5wcm9kdWN0LWl0ZW1fX2J1eS1idXR0b246aG92ZXIge1xyXG4gICAgZmlsdGVyOiBicmlnaHRuZXNzKDEuMSk7XHJcbiAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbn0iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"mappings":"AAKA,SAASA,QAAQ,QAAQ,kBAAkB;;;;;;;ICJvCC,8BAAiE;IAEzDA,yBAA4B;IAC5BA,6BAA8C;IAAAA,YAAqB;IAAAA,iBAAK;IACxEA,4BAA8C;IAAAA,YAAmC;;IAAAA,iBAAI;IACrFA,4BAAwD;IAAAA,YAA0B;IAAAA,iBAAI;IACtFA,kCAA6E;IAAAA,wBAAO;IAAAA,iBAAS;;;;IALnEA,eAAqC;IAArCA,wEAAqC;IAC1DA,eAAsB;IAAtBA,yDAAsB;IACmBA,eAAqB;IAArBA,0CAAqB;IACrBA,eAAmC;IAAnCA,mEAAmC;IACzBA,eAA0B;IAA1BA,+CAA0B;;;ADM9F,OAAM,MAAOC,iBAAiB;EAM5BC,YACUC,eAAgC,EAChCC,KAAqB;IADrB,oBAAe,GAAfD,eAAe;IACf,UAAK,GAALC,KAAK;IAPf;IACA,QAAG,GAAW,EAAE;IAChB,YAAO,GAAa,IAAIL,QAAQ,EAAE;IAClC,UAAK,GAAe,EAAE;EAKpB;EAEFM,QAAQ;IACN;;;;;;;;;;;;;;;IAkBA;IACA;;;;;;;;;;;;;;;;;;;IAqBA,IAAIC,EAAE,GAAG,IAAI,CAACF,KAAK,CAACG,QAAQ,CAACC,QAAQ,CAACC,GAAG,CAAC,IAAI,CAAC;IAC/C,IAAIH,EAAE,IAAI,IAAI,EAAE;MACd,IAAI,CAACI,OAAO,CAACJ,EAAE,GAAGK,MAAM,CAACL,EAAE,CAAC;MAC5B;;;IAGFM,SAAS,EAAE;EACb;;AA3DWX,iBAAiB;mBAAjBA,iBAAiB;AAAA;AAAjBA,iBAAiB;QAAjBA,iBAAiB;EAAAY;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCZ9BjB,kCAA8B;MAC1BA,mEAQM;MACVA,iBAAU;;;MAT8CA,eAAW;MAAXA,sCAAW","names":["Produtos","i0","ProdutosComponent","constructor","produtosService","route","ngOnInit","id","snapshot","paramMap","get","produto","Number","consultar","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["D:\\OneDrive - Fatec Centro Paula Souza\\Documentos\\Estudos\\Fatec_ADS\\4-Web\\pw-p2\\mintz\\src\\app\\produtos\\produtos.component.ts","D:\\OneDrive - Fatec Centro Paula Souza\\Documentos\\Estudos\\Fatec_ADS\\4-Web\\pw-p2\\mintz\\src\\app\\produtos\\produtos.component.html"],"sourcesContent":["import { Component } from '@angular/core';\r\nimport { IProduto } from '../produtos';\r\nimport { ProdutosService } from '../produtos.service';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { switchMap, map } from 'rxjs/operators';\r\nimport { Produtos } from './produtos.model';\r\n\r\n@Component({\r\n  selector: 'app-produtos',\r\n  templateUrl: './produtos.component.html',\r\n  styleUrls: ['./produtos.component.css']\r\n})\r\nexport class ProdutosComponent {\r\n  // produtos: Produtos[] | undefined;\r\n  msg: string = \"\";\r\n  produto: Produtos = new Produtos();\r\n  lista: Produtos[] = [];\r\n\r\n  constructor(\r\n    private produtosService: ProdutosService,\r\n    private route: ActivatedRoute\r\n  ){}\r\n\r\n  ngOnInit(): void{\r\n    /*//VERSÃO P1\r\n    const produtos = this.produtosService.getAll();\r\n    //Sempre que notar uma mudança no query parameter, receberá a descrição digitada na barra de busca\r\n    this.route.queryParamMap.subscribe(params => {\r\n      //Pega a descrição digitada e converte para letras minúsculas\r\n      const descricao = params.get(\"descricao\")?.toLowerCase();\r\n\r\n      //Verifica se o produto digitado está presente na lista de produtos\r\n      if(descricao){\r\n        this.produtos = produtos.filter(produto => produto.descricao.toLowerCase().includes(descricao));\r\n        return;\r\n      }\r\n\r\n      //Se não estiver no filtro, o atributo produtos recebe toda a lista de produtos\r\n      this.produtos = produtos;\r\n    });\r\n    */\r\n\r\n    //VERSÃO P2\r\n    /*\r\n    this.route.queryParams.pipe(\r\n      // switchMap troca para um novo observable\r\n      switchMap(() => this.produtosService.listar()),\r\n      map((produtos: Produtos[]) => {\r\n        // Pega a descrição digitada e converte para letras minúsculas\r\n        const descricao = this.route.snapshot.queryParams[\"descricao\"]?.toLowerCase();\r\n  \r\n        // Verifica se o produto digitado está presente na lista de produtos\r\n        if (descricao) {\r\n          return produtos.filter(produto => produto.descricao.toLowerCase().includes(descricao));\r\n        }\r\n  \r\n        // Se não estiver no filtro, retorna toda a lista de produtos\r\n        return produtos;\r\n      })\r\n    ).subscribe(produtos => {\r\n      // O resultado final é atribuído a this.produtos\r\n      this.produtos = produtos;\r\n    });\r\n    */\r\n    let id = this.route.snapshot.paramMap.get(\"id\");\r\n    if (id != null) {\r\n      this.produto.id = Number(id);\r\n      //consultar();\r\n    }\r\n\r\n    consultar()\r\n  }\r\n}\r\n","<section class=\"product-list\">\r\n    <div class=\"product-list__card\" *ngFor=\"let produto of produtos\">\r\n        <a class=\"product-list__link\" routerLink=\"/produtos/{{produto.id}}\">\r\n            <img [src]=\"produto.imagem\">\r\n            <h2 class=\"product-item__name w3-text-indigo\">{{produto.descricao}}</h2>\r\n            <p class=\"product-item__price w3-text-orange\">{{produto.preco | currency: \"BRL\"}}</p>\r\n            <p class=\"product-item__price-description w3-text-gray\">{{produto.descricaoPreco}}</p>\r\n            <button class=\"w3-button w3-round-large w3-indigo w3-hover-orange w3-margin\">Comprar</button>\r\n        </a>\r\n    </div>\r\n</section>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}