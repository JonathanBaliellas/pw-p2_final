{"ast":null,"code":"import { Cliente } from '../cliente/cliente.model';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/cliente.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"../services/notificacao.service\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\nfunction LoginComponent_p_34_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 37);\n    i0.ɵɵtext(1, \"Senha n\\u00E3o bate com a confirma\\u00E7\\u00E3o de senha\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction LoginComponent_p_77_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 37);\n    i0.ɵɵtext(1, \"Senha n\\u00E3o bate com a confirma\\u00E7\\u00E3o de senha\");\n    i0.ɵɵelementEnd();\n  }\n}\nconst _c0 = function (a0) {\n  return {\n    \"senhas-diferentes\": a0\n  };\n};\nexport class LoginComponent {\n  constructor(clienteService, routes, notificacaoService) {\n    this.clienteService = clienteService;\n    this.routes = routes;\n    this.notificacaoService = notificacaoService;\n    this.msg = \"\";\n    this.cliente = new Cliente();\n    this.clienteRecuperacao = new Cliente();\n    this.clienteNovo = new Cliente();\n    this.senha = \"\";\n    this.confirmarSenha = \"\";\n    this.senhasDiferentes = false;\n  }\n  ngOnInit() {\n    const clienteLogado = localStorage.getItem(\"cliente\");\n    if (clienteLogado != null) {\n      window.location.href = \"/minha-conta\";\n    }\n  }\n  cadastrar() {\n    if (this.clienteNovo.senha.length > 0) {\n      if (!this.senhasDiferentes) {\n        try {\n          this.clienteService.inserir(this.clienteNovo);\n          this.msg = \"Cadastro efetuado com sucesso\";\n        } catch (error) {\n          this.msg = \"Ops, parece que algo deu errado\";\n        }\n        document.getElementById('divCadastro').style.display = 'none';\n        window.alert(this.msg);\n        this.logar(this.clienteNovo);\n      } else {\n        this.notificacaoService.notificar(\"A senha e a confirmação não batem\");\n        return;\n      }\n    } else {\n      this.notificacaoService.notificar(\"A senha não pode ser vazia\");\n      return;\n    }\n  }\n  recuperarSenha() {\n    try {\n      this.clienteService.recuperarSenha(this.clienteRecuperacao).subscribe(resposta => {\n        if (resposta.nome == null) {\n          //Se a resposta for nula, significa que o usuário cujo email e senha informados não foi localizado\n          this.msg = \"Email não localizado\";\n          this.notificacaoService.notificar(this.msg);\n        } else {\n          //Se encontrar, recebe os valores\n          this.clienteRecuperacao.id = resposta.id;\n          this.clienteRecuperacao.bairro = resposta.bairro;\n          this.clienteRecuperacao.cep = resposta.cep;\n          this.clienteRecuperacao.cidade = resposta.cidade;\n          this.clienteRecuperacao.complemento = resposta.complemento;\n          this.clienteRecuperacao.cpf = resposta.cpf;\n          this.clienteRecuperacao.email = resposta.email;\n          this.clienteRecuperacao.logradouro = resposta.logradouro;\n          this.clienteRecuperacao.nome = resposta.nome;\n          this.clienteRecuperacao.senha = resposta.senha;\n          this.clienteRecuperacao.uf = resposta.uf;\n          //Chama o novo modal para atualizar a senha\n          document.getElementById('divNovaSenha').style.display = 'block';\n        }\n      });\n    } catch (error) {\n      this.msg = \"Ops, parece que algo deu errado\";\n      this.notificacaoService.notificar(this.msg);\n    }\n    document.getElementById('divEsqueciSenha').style.display = 'none';\n  }\n  atualizarSenha() {\n    if (this.senha.length > 0) {\n      if (!this.senhasDiferentes) {\n        this.clienteRecuperacao.senha = this.senha;\n      } else {\n        this.notificacaoService.notificar(\"A senha e a confirmação não batem\");\n        return;\n      }\n    } else {\n      this.notificacaoService.notificar(\"A senha não pode ser vazia\");\n      return;\n    }\n    try {\n      this.clienteService.atualizar(this.clienteRecuperacao);\n      this.cliente = this.clienteRecuperacao;\n      /*\r\n      localStorage.setItem(\"cliente\", JSON.stringify(this.clienteRecuperacao));\r\n      this.notificacaoService.notificar(\"Senha recuperada com sucesso! Bem-vindo, \" + this.clienteRecuperacao.nome);\r\n      window.location.href = \"./produtos\";\r\n      */\n      const aguardar = ms => new Promise(resolve => setTimeout(resolve, ms));\n      aguardar(1000).then(() => {\n        this.logar(this.clienteRecuperacao);\n      });\n      alert(\"Senha recuperada com sucesso\");\n    } catch (error) {\n      this.notificacaoService.notificar(\"Ops, parece que algo deu errado\");\n    }\n  }\n  verificarSenhas(senha, confirmarSenha) {\n    this.senhasDiferentes = senha !== confirmarSenha;\n  }\n  logar(login) {\n    try {\n      this.clienteService.logar(login).subscribe(resposta => {\n        if (resposta.nome == null) {\n          //Se a resposta for nula, significa que o usuário cujo email e senha informados não foi localizado\n          this.msg = \"Email ou senha incorretos\";\n          this.notificacaoService.notificar(this.msg);\n        } else {\n          //Se encontrar o usuário, salvará no local storage\n          localStorage.setItem(\"cliente\", JSON.stringify(resposta));\n          this.notificacaoService.notificar(\"Login efetuado com sucesso. Bem-vindo, \" + resposta.nome);\n          window.location.href = \"./produtos\";\n        }\n      });\n    } catch (error) {\n      this.msg = \"Ops, parece que algo deu errado\";\n      this.notificacaoService.notificar(this.msg);\n    }\n  }\n}\nLoginComponent.ɵfac = function LoginComponent_Factory(t) {\n  return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.ClienteService), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i3.NotificacaoService));\n};\nLoginComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: LoginComponent,\n  selectors: [[\"app-login\"]],\n  decls: 81,\n  vars: 34,\n  consts: [[1, \"w3-container\", \"w3-center\", \"w3-margin\"], [1, \"w3-text-indigo\"], [\"id\", \"container\"], [1, \"w3-half\", \"w3-border-right\", \"w3-padding\"], [1, \"cadastro\"], [\"type\", \"email\", \"placeholder\", \"Email\", \"pattern\", \"[a-z0-9._%+-]+@[a-z0-9.-]+\\\\.[a-z]{2,}$\", 1, \"w3-input\", \"w3-border\", \"w3-round\", \"w3-margin\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"password\", \"placeholder\", \"Senha\", 1, \"w3-input\", \"w3-border\", \"w3-round\", \"w3-margin\", 3, \"ngModel\", \"ngModelChange\"], [1, \"w3-button\", \"w3-round\", \"w3-indigo\", \"w3-hover-orange\", 3, \"click\"], [\"onclick\", \"document.getElementById('divEsqueciSenha').style.display='block'\", 1, \"w3-button\", \"w3-hover-none\", \"w3-text-indigo\", \"w3-hover-text-orange\"], [1, \"w3-half\"], [\"onclick\", \"document.getElementById('divCadastro').style.display='block'\", 1, \"w3-button\", \"w3-round\", \"w3-indigo\", \"w3-hover-orange\"], [\"id\", \"divCadastro\", 1, \"w3-modal\"], [1, \"w3-modal-content\", \"w3-card-4\", \"w3-animate-top\", \"w3-round\"], [1, \"w3-indigo\", \"w3-container\", \"modal-header\"], [\"onclick\", \"document.getElementById('divCadastro').style.display='none'\", 1, \"w3-button\", \"w3-display-topright\"], [1, \"w3-container\", \"w3-padding\", \"cadastro\"], [\"type\", \"text\", \"placeholder\", \"Nome\", \"required\", \"\", \"pattern\", \"[A-z\\\\s]{6,100}\", 1, \"w3-input\", \"w3-border\", \"w3-round\", \"w3-margin\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"number\", \"placeholder\", \"CPF\", \"required\", \"\", \"pattern\", \"\\\\d{3}\\\\.\\\\d{3}\\\\.\\\\d{3}-\\\\d{2}\", 1, \"w3-input\", \"w3-border\", \"w3-round\", \"w3-margin\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"email\", \"placeholder\", \"Email\", \"required\", \"\", \"pattern\", \"[a-z0-9._%+-]+@[a-z0-9.-]+\\\\.[a-z]{2,}$\", 1, \"w3-input\", \"w3-border\", \"w3-round\", \"w3-margin\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"password\", \"placeholder\", \"Senha\", 1, \"w3-input\", \"w3-border\", \"w3-round\", \"w3-margin\", 3, \"ngClass\", \"ngModel\", \"ngModelChange\", \"input\"], [\"type\", \"password\", \"placeholder\", \"Confirmar senha\", 1, \"w3-input\", \"w3-border\", \"w3-round\", \"w3-margin\", 3, \"ngClass\", \"ngModel\", \"ngModelChange\", \"input\"], [\"class\", \"w3-margin\", \"style\", \"color: red;\", 4, \"ngIf\"], [1, \"w3-third\"], [\"type\", \"text\", \"placeholder\", \"Logradouro\", 1, \"w3-input\", \"w3-border\", \"w3-round\", \"w3-margin\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"placeholder\", \"Complemento\", 1, \"w3-input\", \"w3-border\", \"w3-round\", \"w3-margin\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"placeholder\", \"Bairro\", 1, \"w3-input\", \"w3-border\", \"w3-round\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"placeholder\", \"Cidade\", 1, \"w3-input\", \"w3-border\", \"w3-round\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"placeholder\", \"UF\", 1, \"w3-input\", \"w3-border\", \"w3-round\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"placeholder\", \"CEP\", 1, \"w3-input\", \"w3-border\", \"w3-round\", 3, \"ngModel\", \"ngModelChange\"], [1, \"w3-padding\"], [1, \"w3-button\", \"w3-indigo\", \"w3-round\", \"w3-hover-orange\", 3, \"click\"], [\"id\", \"divEsqueciSenha\", 1, \"w3-modal\"], [\"onclick\", \"document.getElementById('divEsqueciSenha').style.display='none'\", 1, \"w3-button\", \"w3-display-topright\"], [\"id\", \"divNovaSenha\", 1, \"w3-modal\"], [\"onclick\", \"document.getElementById('divNovaSenha').style.display='none'\", 1, \"w3-button\", \"w3-display-topright\"], [\"type\", \"password\", \"placeholder\", \"Senha\", \"required\", \"\", 1, \"w3-input\", \"w3-border\", \"w3-round\", \"w3-margin\", 3, \"ngModel\", \"ngClass\", \"ngModelChange\", \"input\"], [\"type\", \"password\", \"placeholder\", \"Confirmar senha\", \"required\", \"\", 1, \"w3-input\", \"w3-border\", \"w3-round\", \"w3-margin\", 3, \"ngModel\", \"ngClass\", \"ngModelChange\", \"input\"], [1, \"w3-margin\", 2, \"color\", \"red\"]],\n  template: function LoginComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"section\", 0)(1, \"h2\", 1);\n      i0.ɵɵtext(2, \"Identifica\\u00E7\\u00E3o\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"div\", 2)(4, \"div\", 3)(5, \"h3\", 1);\n      i0.ɵɵtext(6, \"J\\u00E1 tenho cadastro\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"div\", 4)(8, \"input\", 5);\n      i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_8_listener($event) {\n        return ctx.cliente.email = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"input\", 6);\n      i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_9_listener($event) {\n        return ctx.cliente.senha = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(10, \"p\")(11, \"button\", 7);\n      i0.ɵɵlistener(\"click\", function LoginComponent_Template_button_click_11_listener() {\n        return ctx.logar(ctx.cliente);\n      });\n      i0.ɵɵtext(12, \"Entrar\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(13, \"p\")(14, \"button\", 8);\n      i0.ɵɵtext(15, \"Esqueci minha senha\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(16, \"div\", 9)(17, \"h3\", 1);\n      i0.ɵɵtext(18, \"Ainda n\\u00E3o tenho cadastro\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(19, \"button\", 10);\n      i0.ɵɵtext(20, \"Cadastrar\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(21, \"div\", 11)(22, \"div\", 12)(23, \"header\", 13)(24, \"span\", 14);\n      i0.ɵɵtext(25, \"\\u00D7\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(26, \"h3\");\n      i0.ɵɵtext(27, \"Cadastrar\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(28, \"div\", 15)(29, \"input\", 16);\n      i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_29_listener($event) {\n        return ctx.clienteNovo.nome = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(30, \"input\", 17);\n      i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_30_listener($event) {\n        return ctx.clienteNovo.cpf = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(31, \"input\", 18);\n      i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_31_listener($event) {\n        return ctx.clienteNovo.email = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(32, \"input\", 19);\n      i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_32_listener($event) {\n        return ctx.clienteNovo.senha = $event;\n      })(\"input\", function LoginComponent_Template_input_input_32_listener() {\n        return ctx.verificarSenhas(ctx.clienteNovo.senha, ctx.confirmarSenha);\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(33, \"input\", 20);\n      i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_33_listener($event) {\n        return ctx.confirmarSenha = $event;\n      })(\"input\", function LoginComponent_Template_input_input_33_listener() {\n        return ctx.verificarSenhas(ctx.clienteNovo.senha, ctx.confirmarSenha);\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(34, LoginComponent_p_34_Template, 2, 0, \"p\", 21);\n      i0.ɵɵelementStart(35, \"div\", 22)(36, \"input\", 23);\n      i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_36_listener($event) {\n        return ctx.cliente.logradouro = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(37, \"input\", 24);\n      i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_37_listener($event) {\n        return ctx.cliente.complemento = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(38, \"div\", 22)(39, \"input\", 25);\n      i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_39_listener($event) {\n        return ctx.cliente.bairro = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(40, \"input\", 26);\n      i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_40_listener($event) {\n        return ctx.cliente.cidade = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(41, \"input\", 27);\n      i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_41_listener($event) {\n        return ctx.cliente.uf = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(42, \"input\", 28);\n      i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_42_listener($event) {\n        return ctx.cliente.cep = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(43, \"div\", 22)(44, \"input\", 25);\n      i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_44_listener($event) {\n        return ctx.cliente.bairro = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(45, \"input\", 26);\n      i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_45_listener($event) {\n        return ctx.cliente.cidade = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(46, \"input\", 27);\n      i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_46_listener($event) {\n        return ctx.cliente.uf = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(47, \"input\", 28);\n      i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_47_listener($event) {\n        return ctx.cliente.cep = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(48, \"div\", 29)(49, \"button\", 30);\n      i0.ɵɵlistener(\"click\", function LoginComponent_Template_button_click_49_listener() {\n        return ctx.cadastrar();\n      });\n      i0.ɵɵtext(50, \"Cadastrar\");\n      i0.ɵɵelementEnd()()()()();\n      i0.ɵɵelementStart(51, \"div\", 31)(52, \"div\", 12)(53, \"header\", 13)(54, \"span\", 32);\n      i0.ɵɵtext(55, \"\\u00D7\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(56, \"h3\");\n      i0.ɵɵtext(57, \"Esqueci minha senha\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(58, \"div\", 15)(59, \"p\");\n      i0.ɵɵtext(60, \"Informe seu email para recuperar a senha\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(61, \"input\", 18);\n      i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_61_listener($event) {\n        return ctx.clienteRecuperacao.email = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(62, \"div\", 29)(63, \"button\", 30);\n      i0.ɵɵlistener(\"click\", function LoginComponent_Template_button_click_63_listener() {\n        return ctx.recuperarSenha();\n      });\n      i0.ɵɵtext(64, \"Recuperar senha\");\n      i0.ɵɵelementEnd()()()()();\n      i0.ɵɵelementStart(65, \"div\", 33)(66, \"div\", 12)(67, \"header\", 13)(68, \"span\", 34);\n      i0.ɵɵtext(69, \"\\u00D7\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(70, \"h3\");\n      i0.ɵɵtext(71, \"Nova senha\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(72, \"div\", 15)(73, \"p\");\n      i0.ɵɵtext(74, \"Informe a sua nova senha\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(75, \"input\", 35);\n      i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_75_listener($event) {\n        return ctx.senha = $event;\n      })(\"input\", function LoginComponent_Template_input_input_75_listener() {\n        return ctx.verificarSenhas(ctx.senha, ctx.confirmarSenha);\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(76, \"input\", 36);\n      i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_76_listener($event) {\n        return ctx.confirmarSenha = $event;\n      })(\"input\", function LoginComponent_Template_input_input_76_listener() {\n        return ctx.verificarSenhas(ctx.senha, ctx.confirmarSenha);\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(77, LoginComponent_p_77_Template, 2, 0, \"p\", 21);\n      i0.ɵɵelementStart(78, \"div\", 29)(79, \"button\", 30);\n      i0.ɵɵlistener(\"click\", function LoginComponent_Template_button_click_79_listener() {\n        return ctx.atualizarSenha();\n      });\n      i0.ɵɵtext(80, \"Recuperar senha\");\n      i0.ɵɵelementEnd()()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"ngModel\", ctx.cliente.email);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngModel\", ctx.cliente.senha);\n      i0.ɵɵadvance(20);\n      i0.ɵɵproperty(\"ngModel\", ctx.clienteNovo.nome);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngModel\", ctx.clienteNovo.cpf);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngModel\", ctx.clienteNovo.email);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(26, _c0, ctx.senhasDiferentes))(\"ngModel\", ctx.clienteNovo.senha);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(28, _c0, ctx.senhasDiferentes))(\"ngModel\", ctx.confirmarSenha);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.senhasDiferentes);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngModel\", ctx.cliente.logradouro);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngModel\", ctx.cliente.complemento);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngModel\", ctx.cliente.bairro);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngModel\", ctx.cliente.cidade);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngModel\", ctx.cliente.uf);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngModel\", ctx.cliente.cep);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngModel\", ctx.cliente.bairro);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngModel\", ctx.cliente.cidade);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngModel\", ctx.cliente.uf);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngModel\", ctx.cliente.cep);\n      i0.ɵɵadvance(14);\n      i0.ɵɵproperty(\"ngModel\", ctx.clienteRecuperacao.email);\n      i0.ɵɵadvance(14);\n      i0.ɵɵproperty(\"ngModel\", ctx.senha)(\"ngClass\", i0.ɵɵpureFunction1(30, _c0, ctx.senhasDiferentes));\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngModel\", ctx.confirmarSenha)(\"ngClass\", i0.ɵɵpureFunction1(32, _c0, ctx.senhasDiferentes));\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.senhasDiferentes);\n    }\n  },\n  dependencies: [i4.NgClass, i4.NgIf, i5.DefaultValueAccessor, i5.NumberValueAccessor, i5.NgControlStatus, i5.RequiredValidator, i5.PatternValidator, i5.NgModel],\n  styles: [\".cadastro[_ngcontent-%COMP%]{\\r\\n    padding-right: 3rem!important;\\r\\n}\\r\\n\\r\\n.modal-header[_ngcontent-%COMP%]{\\r\\n    padding-top: 10px;\\r\\n}\\r\\n\\r\\n#container[_ngcontent-%COMP%]{\\r\\n    margin-top: 5rem;\\r\\n}\\r\\n\\r\\n@media only screen and (max-width: 600px){\\r\\n    div[_ngcontent-%COMP%]{\\r\\n        border-style: none!important;\\r\\n    }\\r\\n\\r\\n    #container[_ngcontent-%COMP%]{\\r\\n        margin-top: 2rem;\\r\\n    }\\r\\n}\\r\\n.senhas-diferentes[_ngcontent-%COMP%]{\\r\\n    border: 1px solid red!important;\\r\\n    color: red!important;\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvbG9naW4vbG9naW4uY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLDZCQUE2QjtBQUNqQzs7QUFFQTtJQUNJLGlCQUFpQjtBQUNyQjs7QUFFQTtJQUNJLGdCQUFnQjtBQUNwQjs7QUFFQTtJQUNJO1FBQ0ksNEJBQTRCO0lBQ2hDOztJQUVBO1FBQ0ksZ0JBQWdCO0lBQ3BCO0FBQ0o7QUFDQTtJQUNJLCtCQUErQjtJQUMvQixvQkFBb0I7QUFDeEIiLCJzb3VyY2VzQ29udGVudCI6WyIuY2FkYXN0cm97XHJcbiAgICBwYWRkaW5nLXJpZ2h0OiAzcmVtIWltcG9ydGFudDtcclxufVxyXG5cclxuLm1vZGFsLWhlYWRlcntcclxuICAgIHBhZGRpbmctdG9wOiAxMHB4O1xyXG59XHJcblxyXG4jY29udGFpbmVye1xyXG4gICAgbWFyZ2luLXRvcDogNXJlbTtcclxufVxyXG5cclxuQG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAobWF4LXdpZHRoOiA2MDBweCl7XHJcbiAgICBkaXZ7XHJcbiAgICAgICAgYm9yZGVyLXN0eWxlOiBub25lIWltcG9ydGFudDtcclxuICAgIH1cclxuXHJcbiAgICAjY29udGFpbmVye1xyXG4gICAgICAgIG1hcmdpbi10b3A6IDJyZW07XHJcbiAgICB9XHJcbn1cclxuLnNlbmhhcy1kaWZlcmVudGVze1xyXG4gICAgYm9yZGVyOiAxcHggc29saWQgcmVkIWltcG9ydGFudDtcclxuICAgIGNvbG9yOiByZWQhaW1wb3J0YW50O1xyXG59Il0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["Cliente","i0","LoginComponent","constructor","clienteService","routes","notificacaoService","ngOnInit","clienteLogado","localStorage","getItem","window","location","href","cadastrar","clienteNovo","senha","length","senhasDiferentes","inserir","msg","error","document","getElementById","style","display","alert","logar","notificar","recuperarSenha","clienteRecuperacao","subscribe","resposta","nome","id","bairro","cep","cidade","complemento","cpf","email","logradouro","uf","atualizarSenha","atualizar","cliente","aguardar","ms","Promise","resolve","setTimeout","then","verificarSenhas","confirmarSenha","login","setItem","JSON","stringify","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["D:\\OneDrive - Fatec Centro Paula Souza\\Documentos\\Estudos\\Fatec_ADS\\4-Web\\pw-p2\\mintz\\src\\app\\login\\login.component.ts","D:\\OneDrive - Fatec Centro Paula Souza\\Documentos\\Estudos\\Fatec_ADS\\4-Web\\pw-p2\\mintz\\src\\app\\login\\login.component.html"],"sourcesContent":["import { Component } from '@angular/core';\r\nimport { Cliente } from '../cliente/cliente.model';\r\nimport { ClienteService } from '../services/cliente.service';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { NotificacaoService } from '../services/notificacao.service';\r\n\r\n@Component({\r\n  selector: 'app-login',\r\n  templateUrl: './login.component.html',\r\n  styleUrls: ['./login.component.css']\r\n})\r\nexport class LoginComponent {\r\n  msg: string = \"\";\r\n  cliente: Cliente = new Cliente();\r\n  clienteRecuperacao: Cliente = new Cliente();\r\n  clienteNovo: Cliente = new Cliente();\r\n  senha: string = \"\";\r\n  confirmarSenha: string = \"\";\r\n  senhasDiferentes: boolean = false;\r\n\r\n  constructor(\r\n    private clienteService: ClienteService,\r\n    private routes: ActivatedRoute,\r\n    private notificacaoService: NotificacaoService\r\n  ){}\r\n\r\n  ngOnInit(){\r\n    const clienteLogado = localStorage.getItem(\"cliente\");\r\n    if (clienteLogado != null) {\r\n      window.location.href = \"/minha-conta\"\r\n      \r\n    }\r\n  }\r\n    \r\n  cadastrar(): void{\r\n    if (this.clienteNovo.senha.length > 0) {\r\n      if (!this.senhasDiferentes) {\r\n        try {\r\n          this.clienteService.inserir(this.clienteNovo);\r\n          this.msg = \"Cadastro efetuado com sucesso\"\r\n        } catch (error) {\r\n          this.msg = \"Ops, parece que algo deu errado\";\r\n        }\r\n        (document.getElementById('divCadastro') as HTMLElement).style.display = 'none';\r\n        window.alert(this.msg);\r\n        this.logar(this.clienteNovo);\r\n\r\n      } else {\r\n        this.notificacaoService.notificar(\"A senha e a confirmação não batem\");\r\n        return;\r\n      }\r\n    } else {\r\n      this.notificacaoService.notificar(\"A senha não pode ser vazia\");\r\n      return;\r\n    }\r\n  }\r\n\r\n  recuperarSenha(): void{\r\n    try {\r\n      this.clienteService.recuperarSenha(this.clienteRecuperacao).subscribe(\r\n        (resposta: Cliente) => {\r\n          if (resposta.nome == null) {\r\n            //Se a resposta for nula, significa que o usuário cujo email e senha informados não foi localizado\r\n            this.msg = \"Email não localizado\";\r\n            this.notificacaoService.notificar(this.msg);\r\n          } else {\r\n            //Se encontrar, recebe os valores\r\n            this.clienteRecuperacao.id = resposta.id;\r\n            this.clienteRecuperacao.bairro = resposta.bairro;\r\n            this.clienteRecuperacao.cep = resposta.cep;\r\n            this.clienteRecuperacao.cidade = resposta.cidade;\r\n            this.clienteRecuperacao.complemento = resposta.complemento;\r\n            this.clienteRecuperacao.cpf = resposta.cpf;\r\n            this.clienteRecuperacao.email = resposta.email;\r\n            this.clienteRecuperacao.logradouro = resposta.logradouro;\r\n            this.clienteRecuperacao.nome = resposta.nome;\r\n            this.clienteRecuperacao.senha = resposta.senha;\r\n            this.clienteRecuperacao.uf = resposta.uf;\r\n\r\n            //Chama o novo modal para atualizar a senha\r\n            (document.getElementById('divNovaSenha') as HTMLElement).style.display='block';\r\n          }\r\n        }\r\n      );\r\n      \r\n    } catch (error) {\r\n      this.msg = \"Ops, parece que algo deu errado\"\r\n      this.notificacaoService.notificar(this.msg);\r\n    }\r\n\r\n    (document.getElementById('divEsqueciSenha') as HTMLElement).style.display = 'none';\r\n  }\r\n\r\n  atualizarSenha(): void{\r\n    if (this.senha.length > 0) {\r\n      if (!this.senhasDiferentes) {\r\n        this.clienteRecuperacao.senha = this.senha;\r\n      } else {\r\n        this.notificacaoService.notificar(\"A senha e a confirmação não batem\");\r\n        return;\r\n      }\r\n    } else {\r\n      this.notificacaoService.notificar(\"A senha não pode ser vazia\");\r\n      return;\r\n    }\r\n    try {\r\n        this.clienteService.atualizar(this.clienteRecuperacao);\r\n        this.cliente = this.clienteRecuperacao;\r\n        /*\r\n        localStorage.setItem(\"cliente\", JSON.stringify(this.clienteRecuperacao));\r\n        this.notificacaoService.notificar(\"Senha recuperada com sucesso! Bem-vindo, \" + this.clienteRecuperacao.nome);\r\n        window.location.href = \"./produtos\";\r\n        */\r\n        \r\n        const aguardar = (ms: number) => new Promise(resolve => setTimeout(resolve, ms));\r\n        aguardar(1000).then(() => {\r\n          this.logar(this.clienteRecuperacao);\r\n        });\r\n\r\n        alert(\"Senha recuperada com sucesso\");\r\n    } catch (error) {\r\n      this.notificacaoService.notificar(\"Ops, parece que algo deu errado\");\r\n    }\r\n  }\r\n\r\n  verificarSenhas(senha: string, confirmarSenha: string): void{\r\n    this.senhasDiferentes = senha !== confirmarSenha;\r\n  }\r\n\r\n  logar(login: Cliente): void{\r\n    try {\r\n      this.clienteService.logar(login).subscribe(\r\n        (resposta: Cliente) => {\r\n          if (resposta.nome == null) {\r\n            //Se a resposta for nula, significa que o usuário cujo email e senha informados não foi localizado\r\n            this.msg = \"Email ou senha incorretos\";\r\n            this.notificacaoService.notificar(this.msg);\r\n          } else {\r\n            //Se encontrar o usuário, salvará no local storage\r\n            localStorage.setItem(\"cliente\", JSON.stringify(resposta));\r\n            this.notificacaoService.notificar(\"Login efetuado com sucesso. Bem-vindo, \" + resposta.nome);\r\n            window.location.href = \"./produtos\";\r\n          }\r\n        }\r\n      );\r\n      \r\n    } catch (error) {\r\n      this.msg = \"Ops, parece que algo deu errado\"\r\n      this.notificacaoService.notificar(this.msg);\r\n    }\r\n  }\r\n}\r\n","<section class=\"w3-container w3-center w3-margin\">\r\n    <h2 class=\"w3-text-indigo\">Identificação</h2>\r\n    <div id=\"container\">\r\n        <!-- Possui cadastro -->\r\n        <div class=\"w3-half w3-border-right w3-padding\">\r\n            <h3 class=\"w3-text-indigo\">Já tenho cadastro</h3>\r\n            <div class=\"cadastro\">\r\n                <input type=\"email\" class=\"w3-input w3-border w3-round w3-margin\" placeholder=\"Email\" pattern=\"[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,}$\" [(ngModel)]=\"cliente.email\">\r\n                <input type=\"password\" class=\"w3-input w3-border w3-round w3-margin\" placeholder=\"Senha\" [(ngModel)]=\"cliente.senha\">\r\n            </div>\r\n            <p><button class=\"w3-button w3-round w3-indigo w3-hover-orange\" (click)=\"logar(cliente)\">Entrar</button></p>\r\n            <p><button class=\"w3-button w3-hover-none w3-text-indigo w3-hover-text-orange\" onclick=\"document.getElementById('divEsqueciSenha').style.display='block'\">Esqueci minha senha</button></p>\r\n        </div>\r\n    \r\n        <!-- Não possui cadastro -->\r\n        <div class=\"w3-half\">\r\n            <h3 class=\"w3-text-indigo\">Ainda não tenho cadastro</h3>\r\n            <button class=\"w3-button w3-round w3-indigo w3-hover-orange\" onclick=\"document.getElementById('divCadastro').style.display='block'\">Cadastrar</button>\r\n        </div>\r\n    </div>\r\n\r\n    <!-- Modal Cadastro -->\r\n    <div class=\"w3-modal\" id=\"divCadastro\">\r\n        <div class=\"w3-modal-content w3-card-4 w3-animate-top w3-round\">\r\n            <header class=\"w3-indigo w3-container modal-header\">\r\n                <!-- Fechar -->\r\n                <span onclick=\"document.getElementById('divCadastro').style.display='none'\" class=\"w3-button w3-display-topright\">&times;</span>\r\n                <h3>Cadastrar</h3>\r\n            </header>\r\n            <div class=\"w3-container w3-padding cadastro\">\r\n                <input type=\"text\" class=\"w3-input w3-border w3-round w3-margin\" placeholder=\"Nome\" required pattern=\"[A-z\\s]{6,100}\" [(ngModel)]=\"clienteNovo.nome\">\r\n                <input type=\"number\" class=\"w3-input w3-border w3-round w3-margin\" placeholder=\"CPF\" required pattern=\"\\d{3}\\.\\d{3}\\.\\d{3}-\\d{2}\" [(ngModel)]=\"clienteNovo.cpf\">\r\n                <input type=\"email\" class=\"w3-input w3-border w3-round w3-margin\" placeholder=\"Email\" required pattern=\"[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,}$\" [(ngModel)]=\"clienteNovo.email\">\r\n                <input type=\"password\" class=\"w3-input w3-border w3-round w3-margin\" [ngClass]=\"{'senhas-diferentes': senhasDiferentes}\" placeholder=\"Senha\" [(ngModel)]=\"clienteNovo.senha\" (input)=\"verificarSenhas(clienteNovo.senha, confirmarSenha)\">\r\n                <input type=\"password\" class=\"w3-input w3-border w3-round w3-margin\" [ngClass]=\"{'senhas-diferentes': senhasDiferentes}\" placeholder=\"Confirmar senha\" [(ngModel)]=\"confirmarSenha\" (input)=\"verificarSenhas(clienteNovo.senha, confirmarSenha)\">\r\n                <p class=\"w3-margin\" style=\"color: red;\" *ngIf=\"senhasDiferentes\">Senha não bate com a confirmação de senha</p>\r\n\r\n                <!-- Endereço -->\r\n                <div class=\"w3-third\">\r\n                    <input type=\"text\" class=\"w3-input w3-border w3-round w3-margin\" placeholder=\"Logradouro\" [(ngModel)]=\"cliente.logradouro\">\r\n                    <input type=\"text\" class=\"w3-input w3-border w3-round w3-margin\" placeholder=\"Complemento\" [(ngModel)]=\"cliente.complemento\">\r\n                </div>\r\n                <div class=\"w3-third\">\r\n                    <input type=\"text\" class=\"w3-input w3-border w3-round\" placeholder=\"Bairro\" [(ngModel)]=\"cliente.bairro\">\r\n                    <input type=\"text\" class=\"w3-input w3-border w3-round\" placeholder=\"Cidade\" [(ngModel)]=\"cliente.cidade\">\r\n                    <input type=\"text\" class=\"w3-input w3-border w3-round\" placeholder=\"UF\" [(ngModel)]=\"cliente.uf\">\r\n                    <input type=\"text\" class=\"w3-input w3-border w3-round\" placeholder=\"CEP\" [(ngModel)]=\"cliente.cep\">\r\n                </div>\r\n                <div class=\"w3-third\">\r\n                    <input type=\"text\" class=\"w3-input w3-border w3-round\" placeholder=\"Bairro\" [(ngModel)]=\"cliente.bairro\">\r\n                    <input type=\"text\" class=\"w3-input w3-border w3-round\" placeholder=\"Cidade\" [(ngModel)]=\"cliente.cidade\">\r\n                    <input type=\"text\" class=\"w3-input w3-border w3-round\" placeholder=\"UF\" [(ngModel)]=\"cliente.uf\">\r\n                    <input type=\"text\" class=\"w3-input w3-border w3-round\" placeholder=\"CEP\" [(ngModel)]=\"cliente.cep\">\r\n                </div>\r\n                <div class=\"w3-padding\">\r\n                    <button class=\"w3-button w3-indigo w3-round w3-hover-orange\" (click)=\"cadastrar()\">Cadastrar</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    \r\n\r\n    <!-- Modal Esqueci a Senha -->\r\n    <div class=\"w3-modal\" id=\"divEsqueciSenha\">\r\n        <div class=\"w3-modal-content w3-card-4 w3-animate-top w3-round\">\r\n            <header class=\"w3-indigo w3-container modal-header\">\r\n                <span onclick=\"document.getElementById('divEsqueciSenha').style.display='none'\" class=\"w3-button w3-display-topright\">&times;</span>\r\n                <h3>Esqueci minha senha</h3>\r\n            </header>\r\n            <div class=\"w3-container w3-padding cadastro\">\r\n                <p>Informe seu email para recuperar a senha</p>\r\n                <input type=\"email\" class=\"w3-input w3-border w3-round w3-margin\" placeholder=\"Email\" required pattern=\"[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,}$\" [(ngModel)]=\"clienteRecuperacao.email\">\r\n                <div class=\"w3-padding\">\r\n                    <button class=\"w3-button w3-indigo w3-round w3-hover-orange\" (click)=\"recuperarSenha()\">Recuperar senha</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <!-- Modal Nova Senha -->\r\n    <div class=\"w3-modal\" id=\"divNovaSenha\">\r\n        <div class=\"w3-modal-content w3-card-4 w3-animate-top w3-round\">\r\n            <header class=\"w3-indigo w3-container modal-header\">\r\n                <span onclick=\"document.getElementById('divNovaSenha').style.display='none'\" class=\"w3-button w3-display-topright\">&times;</span>\r\n                <h3>Nova senha</h3>\r\n            </header>\r\n            <div class=\"w3-container w3-padding cadastro\">\r\n                <p>Informe a sua nova senha</p>\r\n                <input type=\"password\" class=\"w3-input w3-border w3-round w3-margin\" placeholder=\"Senha\" required [(ngModel)]=\"senha\" (input)=\"verificarSenhas(senha, confirmarSenha)\" [ngClass]=\"{'senhas-diferentes': senhasDiferentes}\">\r\n\r\n                <input type=\"password\" class=\"w3-input w3-border w3-round w3-margin\" placeholder=\"Confirmar senha\" required [(ngModel)]=\"confirmarSenha\" (input)=\"verificarSenhas(senha, confirmarSenha)\" [ngClass]=\"{'senhas-diferentes': senhasDiferentes}\">\r\n\r\n                <p class=\"w3-margin\" style=\"color: red;\" *ngIf=\"senhasDiferentes\">Senha não bate com a confirmação de senha</p>\r\n\r\n                <div class=\"w3-padding\">\r\n                    <button class=\"w3-button w3-indigo w3-round w3-hover-orange\" (click)=\"atualizarSenha()\">Recuperar senha</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</section>\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}